<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
</head>
<body>
    <div class="container">
        <select #chosenProfile (change) = "reload(chosenProfile.selectedIndex)">
            @for (profile of profileObject; track profile; let idx = $index) {
                <option value="{{idx}}">{{profile}}</option>
            }
        </select>
        
        <h2>User Profile</h2>
        
        <div class="profile-header">
            <div class="avatar">{{profileObject[chosenProfile.value].avatar}}</div>
            <div class="user-info">
                <div class="user-name">{{profileObject[chosenProfile.value].user_name}}</div>
                <div class="user-email">{{profileObject[chosenProfile.value].email}}</div>
            </div>
        </div>
        
        <h2>Task Statistics</h2>
        
        <table class="stats-table">
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Total Tasks</td>
                <td>{{profileObject[chosenProfile.value].tasks.total}}</td>
            </tr>
            <tr>
                <td>Completed Tasks</td>
                <td>{{profileObject[chosenProfile.value].tasks.completed}}</td>
            </tr>
            <tr>
                <td>Pending Tasks</td>
                <td>{{profileObject[chosenProfile.value].tasks.pending}}</td>
            </tr>
            <tr>
                <td>Completion Rate</td>
                <td>{{(profileObject[chosenProfile.value].tasks.completed / profileObject[chosenProfile.value].tasks.total * 100).toFixed(2)}}%</td>
            </tr>
        </table>
    </div>
</body>
</html>
